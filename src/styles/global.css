@import "tailwindcss";

@theme {
  --color-forest: #2d5a27;
  --color-forest-light: #4a8c3f;
  --color-forest-dark: #1a3518;
  --color-amber: #d4a03c;
  --color-amber-light: #e8c468;
  --color-amber-dark: #b8842a;
  --color-water: #3a7ca5;
  --color-water-light: #5ba3d9;
  --color-stone: #c4b49e;
  --color-stone-light: #d8cdb8;
  --color-stone-muted: #9a8a74;
  --color-earth-dark: #0f0f0a;
  --color-earth-darker: #0a0a07;
}

/* ── Theme custom properties ── */
html.light {
  --theme-bg: #f5f0e8;
  --theme-bg-subtle: #ebe5d8;
  --theme-text: #2d2520;
  --theme-text-secondary: #5a4e42;
  --theme-text-heading: #1a1512;
  --theme-glass-bg: rgba(255, 255, 255, 0.92);
  --theme-glass-border: rgba(45, 90, 39, 0.18);
  --theme-glass-amber-bg: rgba(255, 250, 240, 0.95);
  --theme-glass-amber-border: rgba(184, 132, 42, 0.22);
  --theme-card-inset: #ebe5d8;
  --theme-border-subtle: rgba(45, 90, 39, 0.12);
  --theme-nature-grid-1: rgba(45, 90, 39, 0.05);
  --theme-nature-grid-2: rgba(45, 90, 39, 0.03);
}

html.dark {
  --theme-bg: #0a0a07;
  --theme-bg-subtle: #0f0f0a;
  --theme-text: #e8e0d6;
  --theme-text-secondary: #9a8a74;
  --theme-text-heading: #ffffff;
  --theme-glass-bg: rgba(15, 15, 10, 0.65);
  --theme-glass-border: rgba(45, 90, 39, 0.15);
  --theme-glass-amber-bg: rgba(15, 15, 10, 0.65);
  --theme-glass-amber-border: rgba(212, 160, 60, 0.15);
  --theme-card-inset: rgba(10, 10, 7, 0.5);
  --theme-border-subtle: rgba(45, 90, 39, 0.1);
  --theme-nature-grid-1: rgba(45, 90, 39, 0.03);
  --theme-nature-grid-2: rgba(45, 90, 39, 0.02);
}

html {
  scroll-behavior: smooth;
}

body {
  background: var(--theme-bg);
  color: var(--theme-text);
  line-height: 1.6;
}

/* ── Light mode text contrast fixes ──
   Remap dark-mode-only colors to WCAG AA compliant values */
html.light .text-white {
  color: var(--theme-text-heading) !important;
}

html.light .text-gray-100 {
  color: var(--theme-text) !important;
}

/* text-stone (#c4b49e) is 2.1:1 on cream — bump to 4.5:1+ */
html.light .text-stone {
  color: #6b5e52 !important;
}

/* text-stone-muted (#9a8a74) is 3.2:1 — bump to 4.5:1+ */
html.light .text-stone-muted {
  color: #78695a !important;
}

/* text-stone-light/70 in nav links — ensure readable */
html.light .text-stone-light\/70 {
  color: #6b5e52 !important;
}

/* Stat card inset backgrounds — visible in light */
html.light .bg-earth-darker\/50,
html.light .bg-earth-darker\/30 {
  background-color: var(--theme-card-inset) !important;
}

html.light .bg-earth-darker {
  background-color: var(--theme-bg) !important;
}

/* Section borders — visible but gentle */
html.light .border-forest\/10 {
  border-color: rgba(45, 90, 39, 0.12) !important;
}
html.light .border-forest\/20 {
  border-color: rgba(45, 90, 39, 0.18) !important;
}
html.light .border-amber\/10 {
  border-color: rgba(184, 132, 42, 0.12) !important;
}
html.light .border-amber\/20 {
  border-color: rgba(184, 132, 42, 0.18) !important;
}

/* Hero gradient overlay — warm cream in light */
html.light .from-earth-darker {
  --tw-gradient-from: #f5f0e8 !important;
}
html.light .to-earth-darker {
  --tw-gradient-to: #f5f0e8 !important;
}
html.light .via-\[\#0f120a\] {
  --tw-gradient-via: #ebe5d8 !important;
}

/* Radial gradient overlays — soften in light */
html.light .from-forest\/5 {
  --tw-gradient-from: rgba(45, 90, 39, 0.03) !important;
}
html.light .bg-forest\/5 {
  background-color: rgba(45, 90, 39, 0.04) !important;
}
html.light .bg-amber\/5 {
  background-color: rgba(212, 160, 60, 0.04) !important;
}

/* Organic grid — subtle wood-grain feel */
.nature-grid {
  background-image:
    linear-gradient(var(--theme-nature-grid-1) 1px, transparent 1px),
    linear-gradient(90deg, var(--theme-nature-grid-2) 1px, transparent 1px);
  background-size: 60px 60px;
}

.glow-text-green {
  text-shadow: 0 0 10px rgba(74, 140, 63, 0.4), 0 0 30px rgba(74, 140, 63, 0.2);
}

.glow-text-amber {
  text-shadow: 0 0 10px rgba(212, 160, 60, 0.4), 0 0 30px rgba(212, 160, 60, 0.2);
}

/* Kill glows in light mode — they look dirty on cream */
html.light .glow-text-green,
html.light .glow-text-amber {
  text-shadow: none;
}

.gradient-text-nature {
  background: linear-gradient(135deg, #4a8c3f, #d4a03c);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

.gradient-text-craft {
  background: linear-gradient(135deg, #d4a03c, #3a7ca5);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* ── Glass cards — theme-aware ── */
.glass {
  background: var(--theme-glass-bg);
  backdrop-filter: blur(20px);
  border: 1px solid var(--theme-glass-border);
}

.glass-amber {
  background: var(--theme-glass-amber-bg);
  backdrop-filter: blur(20px);
  border: 1px solid var(--theme-glass-amber-border);
}

html.dark .glass,
html.dark .glass-amber {
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
}

/* Light mode: layered natural shadow for depth */
html.light .glass,
html.light .glass-amber {
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.04),
    0 4px 12px rgba(0, 0, 0, 0.05),
    0 12px 32px rgba(45, 90, 39, 0.04);
}

/* Navbar glass — extra bottom edge in light mode */
html.light nav.glass {
  border-bottom: 1px solid rgba(45, 90, 39, 0.15);
  box-shadow:
    0 1px 3px rgba(0, 0, 0, 0.04),
    0 4px 16px rgba(0, 0, 0, 0.06);
}

/* ── Hover — color/shadow only, no scale ── */
.hover-glow {
  transition: box-shadow 0.2s ease, border-color 0.2s ease;
  cursor: pointer;
}

.hover-glow:hover {
  box-shadow: 0 8px 40px rgba(45, 90, 39, 0.25), 0 0 20px rgba(45, 90, 39, 0.1);
  border-color: rgba(74, 140, 63, 0.35);
}

html.light .hover-glow:hover {
  box-shadow:
    0 4px 16px rgba(45, 90, 39, 0.12),
    0 12px 40px rgba(45, 90, 39, 0.08);
  border-color: rgba(45, 90, 39, 0.25);
}

/* ── Table rows — visible borders in light mode ── */
html.light tr.border-b {
  border-color: rgba(45, 90, 39, 0.1) !important;
}
html.light thead tr.border-b {
  border-color: rgba(45, 90, 39, 0.18) !important;
}
html.light tr:hover {
  background-color: rgba(45, 90, 39, 0.04) !important;
}

.text-gradient-flow {
  background: linear-gradient(90deg, #4a8c3f, #d4a03c, #3a7ca5, #4a8c3f);
  background-size: 300% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: gradient-flow 8s linear infinite;
}

@keyframes gradient-flow {
  0% { background-position: 0% 50%; }
  100% { background-position: 300% 50%; }
}

@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

.float {
  animation: float 5s ease-in-out infinite;
}

@keyframes gentle-pulse {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 1; }
}

.gentle-pulse {
  animation: gentle-pulse 3s ease-in-out infinite;
}

/* Scroll-triggered reveal animations */
.reveal {
  opacity: 0;
  transform: translateY(24px);
  transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

.reveal.visible {
  opacity: 1;
  transform: translateY(0);
}

.reveal-delay-1 { transition-delay: 0.1s; }
.reveal-delay-2 { transition-delay: 0.2s; }
.reveal-delay-3 { transition-delay: 0.3s; }

/* Accessibility: Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  .reveal {
    opacity: 1;
    transform: none;
  }
}

/* Focus states for keyboard navigation */
a:focus-visible, button:focus-visible {
  outline: 2px solid #4a8c3f;
  outline-offset: 2px;
}
